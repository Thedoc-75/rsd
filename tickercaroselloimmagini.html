<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Multi-Feed News Ticker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
  }
  .ticker-box {
    display: flex;
    align-items: center;
    background: #222;
    color: #fff;
    padding: 8px;
    overflow: hidden;
    width: 100%;
  }
  .ticker-header {
    background: #d32f2f;
    padding: 8px;
    font-weight: bold;
    white-space: nowrap;
  }
  #ticker-container {
    display: flex;
    align-items: center;
    animation: ticker-scroll 35s linear infinite;
    white-space: nowrap;
  }
  .ticker-item {
    display: inline-flex;
    align-items: center;
    margin-left: 50px;
  }
  .ticker-item img {
    max-height: 40px;
    margin-right: 10px;
    border-radius: 4px;
  }
  @keyframes ticker-scroll {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
  }
</style>
</head>
<body>

<div class="ticker-box">
  <div class="ticker-header">Health-News</div>
  <div id="ticker-container"></div>
</div>

<script>
const feeds = [
  "https://feeds.bbci.co.uk/news/health/rss.xml",
  "https://jamanetwork.com/rss/site_12/mostRecentIssue.xml",
  "https://www.sciencedaily.com/rss/health_medicine.xml"
  "https://www.ehn.org/feeds/feed.rss"
  
];

let currentFeed = 0;
const proxy = "https://api.rss2json.com/v1/api.json?rss_url=";

async function loadFeed(url) {
  try {
    const res = await fetch(proxy + encodeURIComponent(url));
    const data = await res.json();
    if (data.items) {
      const container = document.getElementById("ticker-container");
      container.innerHTML = "";
      data.items.slice(0, 5).forEach(item => {
        const el = document.createElement("div");
        el.className = "ticker-item";
        if (item.enclosure && item.enclosure.link) {
          const img = document.createElement("img");
          img.src = item.enclosure.link;
          el.appendChild(img);
        }
        el.innerHTML += `<a href="${item.link}" target="_blank" style="color:white;text-decoration:none;">${item.title}</a>`;
        container.appendChild(el);
      });
    }
  } catch (e) {
    console.error("Errore caricamento feed:", e);
  }
}

function cycleFeeds() {
  loadFeed(feeds[currentFeed]);
  currentFeed = (currentFeed + 1) % feeds.length;
}

cycleFeeds();
setInterval(cycleFeeds, 30000); // Cambia feed ogni 30s
</script>

</body>
</html>
